<link rel="import" href="../../d2l-hm-constants-behavior/d2l-hm-constants-behavior.html">

<script>
	'use strict';

	window.D2L = window.D2L || {};
	window.D2L.UpcomingAssessments = window.D2L.UpcomingAssessments || {};

	/*
	* @polymerBehavior window.D2L.UpcomingAssessments.TypesBehavior
	*/
	var typesBehaviorImpl = {
		_getActivityType: function(activity) {
			var type;
			for (var i=0; i<this._allTypes.length; i++) {
				var type = this._types[this._allTypes[i]];
				if (activity.hasClass(type.activityClass)) {
					return activity.type;
				}
			}
			return undefined;
		},

		_allTypes: ['assignment','discussion', 'quiz'],

		_types: {
			assignment: {
				type: 'assignment',
				icon: 'assignments',
				assessmentType: 'assignment',
				canOpen: true,
				instructionsRel: this.HypermediaRels.Assignments.instructions,
				userActivityUsageClass: this.HypermediaClasses.activities.userAssignmentActivity,
				activityRel: this.HypermediaRels.assignment,
				activityClass: this.HypermediaClasses.assignments.assignment
			},
			discussion: {
				type: 'discussion',
				icon: 'discussions',
				assessmentType: 'discussion',
				canOpen: true,
				instructionsRel: this.HypermediaRels.Discussions.description,
				userActivityUsageClass: this.HypermediaClasses.activities.userDiscussionActivity,
				activityRel: this.HypermediaRels.Discussions.topic,
				activityClass: this.HypermediaClasses.discussions.topic
			},
			quiz: {
				type: 'quiz',
				icon: 'quizzing',
				assessmentType: 'quiz',
				canOpen: false,
				instructionsRel: this.HypermediaRels.Quizzes.description,
				userActivityUsageClass: this.HypermediaClasses.activities.userQuizActivity,
				activityRel: this.HypermediaRels.quiz,
				activityClass: this.HypermediaClasses.quizzes.quiz
			}
		}
	};

	window.D2L.UpcomingAssessments.TypesBehavior = [
		typesBehaviorImpl
	];

</script>
